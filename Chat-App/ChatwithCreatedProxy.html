<!DOCTYPE html>
<html>
<head>
    <script src="Scripts/jquery-1.6.4.js"></script>
    <script src="Scripts/jquery.signalR-2.4.3.min.js"></script>

    <script>

        $(function () {

            name = prompt('What is your name?');

   // 1.Define Connection

            var con = $.hubConnection();

   // 2.Create Proxy

            prox = con.createHubProxy("chat")

   // 3. Start Connection

            con.start();

   // 4. Define Subscribe method Message

            prox.on("newMessage", function (name, message) {
                $('ul').append('<li><strong>' + name + '</strong>: ' + message + '</li>');
            });
        })

        
        // 5. Calling Server Method send

        function send() {
            // Call the Send method on the hub
            prox.invoke("sendMessage", name, $('#txt').val());
            $('#txt').val('');
        }


    </script>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <input type="text" id="txt" />
    <button onClick="send()"> Send</button>
    <ul>
        <li>Messages</li>
    </ul>
</body>
</html>